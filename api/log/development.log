  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (24.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5878493172211724820);[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20170524181835)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170524181835"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-05-24 18:34:58.207735"], ["updated_at", "2017-05-24 18:34:58.207735"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5878493172211724820)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5878493172211724820);[0m
  [1m[35m (5.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateStocks (20170524213438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.0ms)[0m  [1m[35mCREATE TABLE "stocks" ("id" bigserial primary key, "user_id" bigint, "date" character varying, "open" float, "high" float, "low" float, "close" float, "volume" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f4b3894c0d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_stocks_on_user_id" ON "stocks"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170524213438"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5878493172211724820)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5878493172211724820);[0m
  [1m[35m (7.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSymbolToStock (20170524214312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.4ms)[0m  [1m[35mALTER TABLE "stocks" ADD "symbol" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170524214312"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5878493172211724820)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5878493172211724820);[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeKeywordInStock (20170524223932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.3ms)[0m  [1m[35mALTER TABLE "stocks" RENAME COLUMN "open" TO "day_open"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170524223932"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5878493172211724820)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 12:52:33 -0500
  [1m[35m (6.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"{\n\t\"user\": {\n\t\t\"email\": \"liz@gmail.com\",\n\t\t\"password\": \"password\n\t}\n}"=>"[FILTERED]"}
Completed 400 Bad Request in 7ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/users_controller.rb:17:in `user_params'
app/controllers/api/v1/users_controller.rb:4:in `create'
Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 13:00:52 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"{\n\t\"user\": {\n\t\t\"email\": \"liz@gmail.com\",\n\t\t\"password\": \"password\n\t}\n}\n"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/users_controller.rb:17:in `user_params'
app/controllers/api/v1/users_controller.rb:4:in `create'
Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 13:08:03 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"{\n\t\"user\": {\n\t\t\"email\": \"test@gmail.com\",\n\t\t\"password\": \"password\"\n\t}\n}\n"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/users_controller.rb:17:in `user_params'
app/controllers/api/v1/users_controller.rb:4:in `create'
Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 14:14:43 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"{\n\tuser: {\n\t\t\"email\": \"test@gmail.com\",\n\t\t\"password\": \"password\"\n\t}\n}\n"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/users_controller.rb:17:in `user_params'
app/controllers/api/v1/users_controller.rb:4:in `create'
Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 14:14:55 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"{\n\tuser: {\n\t\t\"email\": \"test@gmail.com\",\n\t\t\"password\": \"password\"\n\t}\n}\n"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/users_controller.rb:17:in `user_params'
app/controllers/api/v1/users_controller.rb:4:in `create'
Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 14:16:13 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"{\n\t\"user\": {\n\t\t\"email\": \"test@gmail.com\",\n\t\t\"password\": \"password\"\n\t}\n}\n"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (6.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 466ms (Views: 0.4ms | ActiveRecord: 21.0ms)


Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 14:16:40 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"{\n\t\"user\": {\n\t\t\"email\": \"test@gmail.com\",\n\t\t\"password\": \"password\"\n\t}\n}\n"=>"[FILTERED]"}
Completed 400 Bad Request in 5ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/users_controller.rb:17:in `user_params'
app/controllers/api/v1/users_controller.rb:4:in `create'
Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 14:23:55 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"{\n\"user\": {\n\t\t\"email\": \"test@gmail.com\",\n\t\t\"password\": \"password\"\n\t}\n}\n"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/users_controller.rb:17:in `user_params'
app/controllers/api/v1/users_controller.rb:4:in `create'
Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 14:25:23 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (8.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "test@gmail.com"], ["password_digest", "$2a$10$En0/BVW.lcjl29iJ2SOxxOK7SAKR6gSGNl9scq7676I7Lci/8hjvO"], ["created_at", "2017-05-30 19:25:23.608845"], ["updated_at", "2017-05-30 19:25:23.608845"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering users/user_with_token.json.jbuilder
  Rendered users/user_with_token.json.jbuilder (7.7ms)
Completed 200 OK in 174ms (Views: 29.8ms | ActiveRecord: 15.6ms)


Started POST "/api/v1/users" for 127.0.0.1 at 2017-05-30 14:57:33 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 94ms (Views: 0.6ms | ActiveRecord: 5.8ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mStock Load (14.0ms)[0m  [1m[34mSELECT  "stocks".* FROM "stocks" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mStock Load (0.3ms)[0m  [1m[34mSELECT  "stocks".* FROM "stocks" ORDER BY "stocks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (14.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (123.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "api_development"[0m
  [1m[35m (127.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "api_test"[0m
  [1m[35m (38.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (26.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5878493172211724820);[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20170524181835)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (26.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170524181835"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStocks (20170524213438)
  [1m[35m (6.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.3ms)[0m  [1m[35mCREATE TABLE "stocks" ("id" bigserial primary key, "user_id" bigint, "date" character varying, "open" float, "high" float, "low" float, "close" float, "volume" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f4b3894c0d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_stocks_on_user_id" ON "stocks"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170524213438"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSymbolToStock (20170524214312)
  [1m[35m (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "stocks" ADD "symbol" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170524214312"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeKeywordInStock (20170524223932)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.8ms)[0m  [1m[35mALTER TABLE "stocks" RENAME COLUMN "open" TO "day_open"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170524223932"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-05-31 22:28:46.696073"], ["updated_at", "2017-05-31 22:28:46.696073"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5878493172211724820)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
